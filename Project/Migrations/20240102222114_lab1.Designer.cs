// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Project;

#nullable disable

namespace Project.Migrations
{
    [DbContext(typeof(AirportContext))]
    [Migration("20240102222114_lab1")]
    partial class lab1
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "7.0.14")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Project.Models.Airline", b =>
                {
                    b.Property<int>("Airline_id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Airline_id"));

                    b.Property<string>("AirlineName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("Plane_quont")
                        .HasColumnType("int");

                    b.Property<int>("Route_quont")
                        .HasColumnType("int");

                    b.HasKey("Airline_id");

                    b.ToTable("Airlines");

                    b.HasData(
                        new
                        {
                            Airline_id = 1,
                            AirlineName = "Airline1",
                            Plane_quont = 1,
                            Route_quont = 1
                        },
                        new
                        {
                            Airline_id = 2,
                            AirlineName = "Airline2",
                            Plane_quont = 2,
                            Route_quont = 1
                        },
                        new
                        {
                            Airline_id = 3,
                            AirlineName = "Airline3",
                            Plane_quont = 3,
                            Route_quont = 3
                        },
                        new
                        {
                            Airline_id = 4,
                            AirlineName = "Airline4",
                            Plane_quont = 4,
                            Route_quont = 1
                        });
                });

            modelBuilder.Entity("Project.Models.Airport_", b =>
                {
                    b.Property<int>("Airport_Id")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Airport_Id"));

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("Gates_quont")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("Passengers_quont")
                        .HasColumnType("int");

                    b.Property<int>("Planes_quont")
                        .HasColumnType("int");

                    b.Property<int>("Workers_quont")
                        .HasColumnType("int");

                    b.HasKey("Airport_Id");

                    b.HasAlternateKey("Name", "Address");

                    b.ToTable("Airport_s");
                });

            modelBuilder.Entity("Project.Models.Flight", b =>
                {
                    b.Property<int>("FlightId")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("FlightId"));

                    b.Property<DateTime>("First")
                        .HasColumnType("datetime2");

                    b.Property<int>("Gate_Number")
                        .HasColumnType("int");

                    b.Property<int>("Pasengers_Quont")
                        .HasColumnType("int");

                    b.Property<int>("Plane_Id")
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    b.Property<int>("Route_Id")
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    b.Property<DateTime>("Second")
                        .HasColumnType("datetime2");

                    b.HasKey("FlightId");

                    b.HasIndex("Plane_Id");

                    b.HasIndex("Route_Id");

                    b.ToTable("Flights");
                });

            modelBuilder.Entity("Project.Models.Passenger", b =>
                {
                    b.Property<int>("PassengerId")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PassengerId"));

                    b.Property<int>("Age")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Surname")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("PassengerId");

                    b.ToTable("Passengers", t =>
                        {
                            t.HasCheckConstraint("Age", "Age > 0 AND Age < 100");
                        });

                    b.HasData(
                        new
                        {
                            PassengerId = 1,
                            Age = 20,
                            Name = "Passenger1",
                            Surname = "Surname1"
                        },
                        new
                        {
                            PassengerId = 2,
                            Age = 20,
                            Name = "Passenger2",
                            Surname = "Surname2"
                        },
                        new
                        {
                            PassengerId = 3,
                            Age = 21,
                            Name = "Passenger3",
                            Surname = "Surname3"
                        },
                        new
                        {
                            PassengerId = 4,
                            Age = 25,
                            Name = "Passenger4",
                            Surname = "Surname4"
                        },
                        new
                        {
                            PassengerId = 5,
                            Age = 30,
                            Name = "Passenger5",
                            Surname = "Surname5"
                        });
                });

            modelBuilder.Entity("Project.Models.Plane", b =>
                {
                    b.Property<int>("PlaneId")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PlaneId"));

                    b.Property<int?>("AirlineIdAirline_id")
                        .HasColumnType("int");

                    b.Property<string>("Airline_Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("Airline_id")
                        .HasColumnType("int");

                    b.Property<double>("Carrying_Capacity")
                        .HasColumnType("float");

                    b.Property<int>("Flight_Attendant_Quont")
                        .HasColumnType("int");

                    b.Property<int>("Flight_Id")
                        .HasColumnType("int");

                    b.Property<double>("Fuel_Consumption")
                        .HasColumnType("float");

                    b.Property<int>("Max_Plane_Quont")
                        .HasColumnType("int");

                    b.Property<int>("Pilote_Quont")
                        .HasColumnType("int");

                    b.HasKey("PlaneId");

                    b.HasIndex("AirlineIdAirline_id");

                    b.HasIndex("Airline_id");

                    b.ToTable("Planes");
                });

            modelBuilder.Entity("Project.Models.Routes", b =>
                {
                    b.Property<int>("RouteId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RouteId"));

                    b.Property<int?>("Airline_id")
                        .HasColumnType("int");

                    b.Property<string>("Airline_name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Airport_ID_1")
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    b.Property<int>("Airport_ID_2")
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    b.Property<double>("Distance")
                        .HasColumnType("float");

                    b.HasKey("RouteId");

                    b.HasIndex("Airline_id");

                    b.HasIndex("Airport_ID_1");

                    b.HasIndex("Airport_ID_2");

                    b.ToTable("Routes");
                });

            modelBuilder.Entity("Project.Models.Ticket", b =>
                {
                    b.Property<int>("TicketId")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TicketId"));

                    b.Property<int>("Baggage_Weight")
                        .HasColumnType("int");

                    b.Property<int>("Flight_Id")
                        .HasMaxLength(6)
                        .HasColumnType("int");

                    b.Property<int>("Passenger_Doc_Id")
                        .HasColumnType("int");

                    b.Property<string>("Place_Number")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("TicketId");

                    b.HasIndex("Flight_Id");

                    b.HasIndex("Passenger_Doc_Id");

                    b.ToTable("Tickets");
                });

            modelBuilder.Entity("Project.Models.Worker", b =>
                {
                    b.Property<int>("WorkerId")
                        .HasColumnType("int");

                    b.Property<string>("Surname")
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("AirportId")
                        .HasColumnType("int");

                    b.Property<int?>("AirportsAirport_Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Position")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Salary")
                        .HasColumnType("int");

                    b.HasKey("WorkerId", "Surname");

                    b.HasIndex("AirportId");

                    b.HasIndex("AirportsAirport_Id");

                    b.ToTable("Workers");
                });

            modelBuilder.Entity("Project.Models.Flight", b =>
                {
                    b.HasOne("Project.Models.Plane", "Plane")
                        .WithMany("Flight")
                        .HasForeignKey("Plane_Id")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Project.Models.Routes", "Route")
                        .WithMany("Flights")
                        .HasForeignKey("Route_Id")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Plane");

                    b.Navigation("Route");
                });

            modelBuilder.Entity("Project.Models.Plane", b =>
                {
                    b.HasOne("Project.Models.Airline", "AirlineId")
                        .WithMany()
                        .HasForeignKey("AirlineIdAirline_id");

                    b.HasOne("Project.Models.Airline", "Airline")
                        .WithMany("Plane")
                        .HasForeignKey("Airline_id")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Airline");

                    b.Navigation("AirlineId");
                });

            modelBuilder.Entity("Project.Models.Routes", b =>
                {
                    b.HasOne("Project.Models.Airline", "Airline")
                        .WithMany("Route")
                        .HasForeignKey("Airline_id")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Project.Models.Airport_", "Airport_1")
                        .WithMany("Route1")
                        .HasForeignKey("Airport_ID_1")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Project.Models.Airport_", "Airport_2")
                        .WithMany("Route2")
                        .HasForeignKey("Airport_ID_2")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Airline");

                    b.Navigation("Airport_1");

                    b.Navigation("Airport_2");
                });

            modelBuilder.Entity("Project.Models.Ticket", b =>
                {
                    b.HasOne("Project.Models.Flight", "Flight")
                        .WithMany("Ticket")
                        .HasForeignKey("Flight_Id")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Project.Models.Passenger", "Passenger")
                        .WithMany("Tickets")
                        .HasForeignKey("Passenger_Doc_Id")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Flight");

                    b.Navigation("Passenger");
                });

            modelBuilder.Entity("Project.Models.Worker", b =>
                {
                    b.HasOne("Project.Models.Airport_", "Airport")
                        .WithMany("Worker")
                        .HasForeignKey("AirportId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Project.Models.Airport_", "Airports")
                        .WithMany()
                        .HasForeignKey("AirportsAirport_Id");

                    b.Navigation("Airport");

                    b.Navigation("Airports");
                });

            modelBuilder.Entity("Project.Models.Airline", b =>
                {
                    b.Navigation("Plane");

                    b.Navigation("Route");
                });

            modelBuilder.Entity("Project.Models.Airport_", b =>
                {
                    b.Navigation("Route1");

                    b.Navigation("Route2");

                    b.Navigation("Worker");
                });

            modelBuilder.Entity("Project.Models.Flight", b =>
                {
                    b.Navigation("Ticket");
                });

            modelBuilder.Entity("Project.Models.Passenger", b =>
                {
                    b.Navigation("Tickets");
                });

            modelBuilder.Entity("Project.Models.Plane", b =>
                {
                    b.Navigation("Flight");
                });

            modelBuilder.Entity("Project.Models.Routes", b =>
                {
                    b.Navigation("Flights");
                });
#pragma warning restore 612, 618
        }
    }
}
